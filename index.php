<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play with me</title>
    <link rel="icon" href="data:image/png;base64,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"/>
    <style>
        body{
            background-color: lightcyan;
            text-align: center;
            padding: 50px; 
        }

        h1{
            text-decoration: underline;
            color: black;
            font-family: sans-serif;
            font-size: 50px;
        }

        .text{
            background-color: white;
            color: black;
            border: 2px solid #555555;
            text-align: center;
            padding: 30px;
            font-size: 15px;
            margin: auto;
        }

        .text:hover{
            background-color: grey;
        }

        .btn{
            margin-top: 20px;
            border-radius: 12px;
            background-color: white;
            color: black;
            border: 2px solid #555555;
            padding: 15px;
            font-size: 18px;
        }
        .btn:hover{
            background-color: #555555;
            color: white;
        }
    </style>
</head>
<?php

$winner = 'n';
$box = array('','','','','','','','','',);
if(isset($_POST["submitbtn"]))
{
    $box[0] = $_POST["box0"];
    $box[1] = $_POST["box1"];
    $box[2] = $_POST["box2"];
    $box[3] = $_POST["box3"];
    $box[4] = $_POST["box4"];
    $box[5] = $_POST["box5"];
    $box[6] = $_POST["box6"];
    $box[7] = $_POST["box7"];
    $box[8] = $_POST["box8"];

    //print_r($box); debugging point

    if(($box[0] == 'x' && $box[1] == 'x' && $box[2]=='x') || ($box[3] == 'x' && $box[4] == 'x' && $box[5]=='x') || ($box[6] == 'x' && $box[7] == 'x' && $box[8]=='x') || ($box[0] == 'x' && $box[3] == 'x' && $box[6]=='x') || ($box[1] == 'x' && $box[5] == 'x' && $box[7]=='x') || ($box[2] == 'x' && $box[6] == 'x' && $box[8]=='x') || ($box[0] == 'x' && $box[4] == 'x' && $box[8]=='x') || ($box[2] == 'x' && $box[4] == 'x' && $box[6]=='x'))
    {
        $winner = 'x';
        print_r("X wins");
    }
    $blank = 0;
    for ($i=0; $i<=8; $i++)
    {
        if($box[$i] == '')
        {
            $blank = 1;
        }
    }

    if ($blank == 1 && $winner == 'n')
    {

        $i = rand() % 8;
        while ($box[$i] != '')
        {
            $i = rand() % 8; 
        }
        $box[$i] = 'o';
        if(($box[0] == 'o' && $box[1] == 'o' && $box[2]=='o') || ($box[3] == 'o' && $box[4] == 'o' && $box[5]=='o') || ($box[6] == 'o' && $box[7] == 'o' && $box[8]=='o') || ($box[0] == 'o' && $box[3] == 'o' && $box[6]=='o') || ($box[1] == 'o' && $box[5] == 'o' && $box[7]=='o') || ($box[2] == 'o' && $box[6] == 'o' && $box[8]=='o') || ($box[0] == 'o' && $box[4] == 'o' && $box[8]=='o') || ($box[2] == 'o' && $box[4] == 'o' && $box[6]=='o'))

        {
            $winner = 'o';
            print_r("O wins"); 
        }
    }


    //Bug Point
    else if ($winner ='n')
    {
        $winner ='t';
        print("Game Tied");
        
    }
}

?>
<body>
    <h1>Tic-Tac-Toe</h1>
    <form name="tictactoe" method="POST" action="index.php">
    <?php
    
    for ($i=0; $i<=8; $i++)
    {
        printf('<input class="text" type="text" name="box%s" value="%s">', $i, $box[$i]);
        if ($i == 2 || $i == 5 || $i == 8)
        {
            print('<br>');
        }
    }
    if ($winner =='n' )
    {
        print('<input class="btn" type ="submit" name="submitbtn" value="Pass">');
    }
    else{
        print('<input class="btn" type ="button" name="newgamebtn" value="Play Again" onclick = "window.location.href=\'index.php\'">');
    }
    
    ?>
    </form>
</body>
</html>